# TIL

#### 사용법 현재 공부중

## Jest / supertest

1. 모듈 설치

   ```jsx
   npm i jest supertest -D
   ```

2. 사용 준비

   ```jsx
   {
     ...
     "scripts": {
       "test": "jest"
     },
     ...
   }
   ```

3. test 해보기

   ```jsx
   test("1 + 1 은 2일겁니다.", () => {
     expect(1 + 1).toEqual(2);
   });
   ```

   expect(received).toEqual(expected)

4. test 사용 예제

   ```jsx
   const { isEmail } = require("./validation");

   test('입력한 이메일 주소에는 "@" 문자가 1개만 있어야 이메일 형식이다.', () => {
     expect(isEmail("my-email@domain.com")).toEqual(true); // 1개만 있는 상황
     expect(isEmail("my-email@@@@domain.com")).toEqual(false); // 여러개 있는 상황
     expect(isEmail("my-emaildomain.com")).toEqual(false); // 하나도 없는 상황
   });

   test("입력한 이메일 주소에 공백(스페이스)이 존재하면 이메일 형식이 아니다.", () => {
     expect(isEmail("myemail@domain.com")).toEqual(true);
     expect(isEmail("my email@domain.com")).toEqual(false);
   });

   test("입력한 이메일 주소 맨 앞에 하이픈(-)이 있으면 이메일 형식이 아니다.", () => {
     expect(isEmail("e-m-a-i-l@domain.com")).toEqual(true);
     expect(isEmail("-email@domain.com")).toEqual(false);
   });
   ```

5. 참고

   ```jsx
   •	toEqual() : 두 객체의 일치 여부 확인
   •	toBe() : 두 값의 일치 여부 확인
   •	toBeTruthy(), toBeFalsy() : true, false인지 확인
   •	toHaveLength() : 객체의 길이 확인
   •	toContain() : Array에 특정 요소 포함 여부 확인
   •	toThrow() : 함수 호출 시 에러 발생 여부 확인
   ```
